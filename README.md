# Скрипты для управления Fedora 42

## Обзор

Этот репозиторий содержит два Bash-скрипта с интерактивными меню для упрощения задач управления системой на **Fedora 42** (ядро Linux 6.16.3-200.fc42.x86_64). Скрипты предоставляют инструменты для мониторинга процессов, управления сетевыми подключениями, монтирования сетевых ресурсов, настройки маршрутизации ZeroTier, а также управления пакетами и обновлениями ядра.

## Скрипты

### 1. fedora_management.sh

Многофункциональный скрипт с глобальным меню управления, включающим:

- Отображение топ-5 процессов по использованию CPU и RAM.
- Запуск `iftop` для мониторинга сетевого трафика.
- Установку модулей VMware.
- Запуск VMware Player.
- Монтирование/отмонтирование сетевых ресурсов (CIFS) с локальных серверов (IP: 192.168.10.100) или через ZeroTier (IP: 192.168.192.100).
- Управление маршрутизацией ZeroTier (включение/отключение интернета через ZeroTier с шлюзом 192.168.192.35).

### 2. dnf_management.sh

Скрипт для управления пакетами и ядром с помощью DNF, включающий:

- Обновление системы и пакетов Flatpak.
- Обновление списков пакетов и очистку кэша.
- Исправление сломанных зависимостей.
- Управление репозиториями (добавление, удаление, просмотр).
- Установку и удаление пакетов.
- Автоматизацию обновления ядра, включая переустановку ядра, пересоздание initramfs и обновление GRUB.

## Требования

- **Система**: Fedora 42 (ядро Linux 6.16.3-200.fc42.x86_64).
- **Зависимости**: Убедитесь, что установлены следующие пакеты:

  ```bash
  sudo dnf install -y bash psmisc procps-ng iftop cifs-utils zerotier-one dnf akmods dkms
  ```
- **ZeroTier**: Необходим для функций монтирования сетевых ресурсов и маршрутизации. Убедитесь, что ZeroTier установлен и настроен.
- **VMware**: Необходим для опций, связанных с VMware (протестировано с VMware Workstation 17 Pro, версия 17.6.3 build-24583834).

## Настройка

Перед запуском скриптов необходимо настроить учетные данные пользователя и параметры сетевых ресурсов:

1. Откройте каждый скрипт (`fedora_management.sh` и `dnf_management.sh`) в текстовом редакторе (например, `nano`).

2. Найдите следующие строки в начале каждого скрипта:

   ```bash
   USER="vsemke"
   PASSWORD="111"
   ```

   Замените `"vsemke"` на ваше имя пользователя в системе, а `"111"` на ваш пароль для sudo.\
   **Важно**: Хранение пароля в открытом виде небезопасно. Для продакшен-систем рекомендуется модифицировать функцию `run_with_sudo` для интерактивного ввода пароля.

3. В скрипте `fedora_management.sh` найдите настройки сетевых ресурсов:

   ```bash
   LOCAL_IP="192.168.10.100"
   ZT_IP="192.168.192.100"
   SHARES=("Disk1" "Disk2" "Disk3" "MULTIMEDIA" "SSD")
   MOUNT_POINTS=("/media/Disk1" "/media/Disk2" "/media/Disk3" "/media/MULTIMEDIA" "/media/SSD")
   ZT_GATEWAY="192.168.192.35"
   ZT_INTERFACE="ztugayu2f5"
   ```

   Замените:

   - `LOCAL_IP` и `ZT_IP` на IP-адреса ваших локального и ZeroTier серверов соответственно.
   - `SHARES` на имена ваших сетевых папок (шар).
   - `MOUNT_POINTS` на пути локальных точек монтирования, куда будут подключаться шары.
   - `ZT_GATEWAY` на IP-адрес шлюза ZeroTier.
   - `ZT_INTERFACE` на идентификатор вашей ZeroTier-сети.

## Использование

1. Склонируйте репозиторий:

   ```bash
   git clone https://github.com/vsemke/fedora42-tools.git
   cd fedora-management-scripts
   ```

2. Сделайте скрипты исполняемыми:

   ```bash
   chmod +x fedora_management.sh dnf_management.sh
   ```

3. Запустите нужный скрипт:

   ```bash
   ./fedora_management.sh
   ```

   или

   ```bash
   ./dnf_management.sh
   ```

4. Следуйте подсказкам интерактивного меню для выбора нужного действия.

## Совместимость

- **Ядро Linux**: 6.16.3-200.fc42.x86_64
- **Дистрибутив**: Fedora 42

## Вклад в проект

Приглашаем сообщать о проблемах или предлагать улучшения через issues или pull requests. Убедитесь, что ваши изменения совместимы с Fedora 42 и соответствуют стилю кода.
